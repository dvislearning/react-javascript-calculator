(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(3),c=n.n(l),s=(n(15),n(4)),r=n(5),u=n(7),o=n(6),d=n(1),h=n(8),f=(n(16),["+","-","*","/"]);function m(e){return 1===e.length&&"0"===e[0]}function k(e){return f.includes(e[e.length-1])}function y(e,t){return/[123456789]/.test(e)?m(t)?t[0]=e:!function(e){return f.includes(e[e.length-2])&&"0"===e[e.length-1]}(t)?t.push(e):(t.pop(),t.push(e)):"0"===e?function(e){if(m(e))return!1;for(var t=e.length-1;t>=0;t--)if(f.includes(e[t])&&e[t+1]&&"0"===e[t+1]&&!e[t+2])return!1;return!0}(t)&&t.push(e):"."===e?function(e){for(var t=e.length-1;t>=0;t--){if("."===e[t])return!1;if(f.includes(e[t]))break}return!0}(t)&&(k(t)&&t.push("0"),t.push(e)):f.includes(e)&&(!function(e){return!("."===e[e.length-1])&&!k(e)}(t)?k(t)&&(t.pop(),t.push(e)):t.push(e)),t}var v={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t}};function p(e){return v[e[1]](parseFloat(e[0]),parseFloat(e[2]))}function b(e){var t=e.split(/(\+|-|\*|\/)/g),n=0;if(3===t.length)return p(t);var a=1;for(n=t[0];a<t.length;)if(["*","/"].includes(t[a]))n=p([n,t[a],t[a+1]]),a+=2;else if(["+","-"].includes(t[a]))if(["+","-"].includes(t[a+2])||!t[a+2])n=p([n,t[a],t[a+1]]),a+=2;else if(["*","/"].includes(t[a+2])){for(var i=t[a+1],l=a;t[l+2]&&["*","/"].includes(t[l+2]);)i=p([i,t[l+2],t[l+3]]),l+=2;n=p([n,t[a],i]),a=l+2}return n}var E=[{id:"one",className:"button",key:"1"},{id:"two",className:"button",key:"2"},{id:"three",className:"button",key:"3"},{id:"divide",className:"button",key:"/"},{id:"four",className:"button",key:"4"},{id:"five",className:"button",key:"5"},{id:"six",className:"button",key:"6"},{id:"multiply",className:"button",key:"*"},{id:"seven",className:"button",key:"7"},{id:"eight",className:"button",key:"8"},{id:"nine",className:"button",key:"9"},{id:"subtract",className:"button",key:"-"},{id:"zero",className:"button",key:"0"},{id:"decimal",className:"button",key:"."},{id:"equals",className:"button",key:"="},{id:"add",className:"button",key:"+"},{id:"clear",className:"button",key:"Escape"}],g=function(e){console.log(e);var t=E.map(function(t){return i.a.createElement("button",{className:t.className,id:t.id,key:t.key,onClick:e.onClick},"Escape"===t.key?"AC":t.key)});return i.a.createElement("div",{id:"calc-inputs"},t)},N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={display:["0"]},n.handleEvent=n.handleEvent.bind(Object(d.a)(n)),n.handlePress=n.handlePress.bind(Object(d.a)(n)),n.handleClick=n.handleClick.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(r.a)(t,[{key:"handleEvent",value:function(e){var t,n=this.state.display;if("clear"===e.id)t=["0"];else if("equals"===e.id){t=[b(function(e){var t=e[e.length-1];return(f.includes(t)||"."===t)&&e.pop(),e}(n).join(""))]}else t=y(e.key,n);this.setState({display:t})}},{key:"handlePress",value:function(e){var t=E.filter(function(t){return t.key===e.key});t.length&&this.handleEvent(t[0])}},{key:"handleClick",value:function(e){if("button"===e.target.className){var t=E.filter(function(t){return t.id===e.target.id})[0];this.handleEvent(t)}}},{key:"componentDidMount",value:function(){document.getElementById("calc-inputs").addEventListener("keydown",this.handlePress)}},{key:"componentWillUnMmount",value:function(){document.getElementById("calc-inputs").removeEventListener("keydown",this.handlePress)}},{key:"render",value:function(){return i.a.createElement("div",{id:"App"},i.a.createElement("div",{id:"calculator"},i.a.createElement("div",{id:"calc-header"},i.a.createElement("span",{id:"header-text"},"Calculator by D.V.")),i.a.createElement("div",{id:"display"},i.a.createElement("div",{id:"display-text"},this.state.display.join(""))),i.a.createElement("div",{id:"calc-bottom"},i.a.createElement(g,{onClick:this.handleClick}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.eae69a67.chunk.js.map